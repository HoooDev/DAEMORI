# 대회 스마트 컨트랙트

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

contract MyContract {
    uint256 public funderCounter;
    address public owner;
    uint256 public amount;
    address[] public funders;
    bool isOpened;
    
    mapping(address => uint256) funderToAmount;

    constructor() payable {
        owner = msg.sender;
        amount = msg.value;
        isOpened = true;
    }

    function fund() public payable {
        amount += msg.value;
        if (funderToAmount[msg.sender] == 0) {
            funderToAmount[msg.sender] = msg.value;
            funders.push(msg.sender);
            funderCounter += 1;
        } else {
            funderToAmount[msg.sender] += msg.value;
        }
    }

    function funderList() public view  returns ( address[] memory ) {
        return funders;
    }


    function fundersAmount(address funder) public  view returns ( uint256 ){
        return funderToAmount[funder];
    }

    function withdraw(address to) public {
        payable(to).transfer(address(this).balance);
    }

    function canceled() public  {
        for (uint256 i; i < funderCounter; i++) {
            payable(funders[i]).transfer(funderToAmount[funders[i]]);
        }
        payable(owner).transfer(address(this).balance);
        isOpened = false;
    }
}
```

